sudo: required
language: cpp
compiler:
  - gcc
  - clang

os:
  - linux
  - osx

matrix:
  allow_failures:
    - os: osx

stages:
  - compile
  - test
 - benchmark

script:
  - cmake .
  - make

jobs:
  include:
    - stage: test
      script:
        - cmake . -DTEST=true
        - make
    - stage: benchmark
      script:
        - cmake . -DBENCHMARK=true
        - make
